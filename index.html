<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <link rel="stylesheet" href="globals.css" />
    <link rel="stylesheet" href="styleguide.css" />
    <link rel="stylesheet" href="style.css" />
    <link href="https://fonts.googleapis.com/css2?family=Lato:wght@400;700&display=swap" rel="stylesheet">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
      .podium-container {
        display: flex;
        justify-content: center;
        align-items: flex-end;
        gap: 40px;
        margin-top: 30px;
        height: 300px;
      }    
      .podium {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-end;
        border-radius: 10px 10px 0 0;
        background-color: #a79993;
        color: white;
        font-family: 'Lato', sans-serif;
        font-weight: bold;
        width: 100px;
        position: relative;
      }

      .first {
        height: 180px;
        background-color: #6b8e23;
      }

      .second {
        height: 130px;
        background-color: #8b8b8b;
      }

      .third {
        height: 100px;
        background-color: #cd7f32;
      }

      .label {
        margin-bottom: 15px;
        text-align: center;
        font-size: 16px;
        position: absolute;
        bottom: 0;
        width: 100%;
      }

      .ranking {
        position: absolute;
        top: -25px;
        font-size: 18px;
        color: black;
      }

      .toggle-buttons {
        text-align: center;
        margin-top: 20px;
      }

      .toggle-buttons button {
        margin: 0 10px;
        padding: 10px 20px;
        font-family: 'Lato', sans-serif;
        font-weight: bold;
        background-color: #6b8e23;
        border: none;
        border-radius: 5px;
        color: white;
        cursor: pointer;
      }

      .toggle-buttons button.active {
        background-color: #4e6820;
      }

      h1 {
        text-align: center;
        font-family: 'Lato', sans-serif;
        color: black;
        margin-top: 20px;
      }

      #mode-label {
        text-align: center;
        font-family: 'Lato', sans-serif;
        font-size: 18px;
        margin-top: 10px;
      }
    </style>
  </head>
  <body>
    <div class="main-page">
      <div class="div">
        <div class="overlap">
          <div class="rectangle"></div>
          <div class="rectangle-2"></div>
          <div class="overlap-wrapper">
            <div class="overlap-group">
                <canvas id = "histogram" width = "800" height="800" style="border-radius: 15px;"></canvas>
            </div>
          </div>
          
          <div class="frame">
            <button class="text-wrapper-20" data-chart="all">ALL</button>
            <button class="text-wrapper-21" data-chart="vegetables">VEGETABLES</button>
            <button class="text-wrapper-22" data-chart="peppers">PEPPERS</button>
            <button class="text-wrapper-23" data-chart="fruits">FRUITS</button>
          </div>
        </div>
        <div class="overlap-3">
          <div class="text-wrapper-25">Martha’s Community Farm</div>
          <div class="overlap-4">
            <div class="volunteering-about">
              Volunteering&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;About&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Events&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Connect
              With Us
            </div>
            <div class="rectangle-7"></div>
            <div class="text-wrapper-26">VOLUNTEER</div>
          </div>
        </div>
        <div class="overlap-5">
          <div class="rectangle-8"></div>
          <div class="rectangle-9"></div>
          <img class="vector-0" src="images/vector-0.svg" />
          <img class="vector" src="https://c.animaapp.com/MS0A03wW/img/vector-2.svg" />
          <img class="vector-2" src="https://c.animaapp.com/MS0A03wW/img/vector-3.svg" />
          <img class="vector-3" src="https://c.animaapp.com/MS0A03wW/img/vector-4.svg" />
          <img class="vector-4" src="https://c.animaapp.com/MS0A03wW/img/vector-5.svg" />
          <img class="vector-5" src="https://c.animaapp.com/MS0A03wW/img/vector-6.svg" />
          <img class="vector-6" src="https://c.animaapp.com/MS0A03wW/img/vector-7.svg" />
          <div class="rectangle-10"></div>
          <div class="rectangle-11"></div>
         <!-- box behind the partners -->
          <div class="rectangle-12"></div>
          <div class="group">
            <img class="image" src="images/Harvesting.png" />
            <p class="element-total-lbs">
              <span class="span">27,867</span>
              <span class="text-wrapper-27"> <br /></span>
              <span class="text-wrapper-28">total lbs harvested!</span>
            </p>
          </div>
          <!-- SPONSOR IMAGE -->
          <img class = "sponsor1" src ="images/PSUextension.png"/>
          <img class="sponsor2" src= "images/ACLAMOlogo.svg" />
          <img class = "sponsor3" src ="images/Victory-Church_Logo.png"/>
          <img class = "sponsor4" src ="images/Villanova.png"/>

          <div class="overlap-group-wrapper">
            <div class="overlap-6">
              <img class="image-2" src="images/Serving.png" />
              <div class="x-servings-of-food">
                <span class="span">242,681</span>
                <span class="text-wrapper-27"><br /></span>
                <span class="text-wrapper-28">total servings produced!</span>
              </div>
            </div>
          </div>
                
          <p class="CROP-VARIETIES-YEAR">
            <span class="text-wrapper-29">PARTNERS<br /></span>
          </p>
          <!-- TOP PRODUCE IN 2024 IMAGE -->
          <div class="group-2">
            <div class="rectangle-17"></div>
           <!-- <div class= "h1">TOP PRODUCE IN 2024</h1> -->
            <div class="toggle-buttons">
              <button id="servings-btn" class="active">By Serving Size</button>
              <button id="pounds-btn">By Pounds</button>
            </div>
          
            <div class="podium-container" id="podium">
              <div class="podium second">
                <div class="ranking">2nd</div>
                <div class="label" id="second-label">Blackberries</div>
              </div>
              <div class="podium first">
                <div class="ranking">1st</div>
                <div class="label" id="first-label">Shiitake Mushrooms</div>
              </div>
              <div class="podium third">
                <div class="ranking">3rd</div>
                <div class="label" id="third-label">Radishes and Tomatoes</div>
              </div>
            </div>
          </div>
        </div>
        <div class="overlap-7">
            <canvas id="doughnutChart" width="562" height="543"></canvas>
          <div class="CURRENT-PRODUCE">CURRENT<br />PRODUCE<br />DISTRIBUTION</div>
        </div>
        <img class="line-18" src="https://c.animaapp.com/MS0A03wW/img/line-1.svg" />
        <div class="overlap-8">
          <div class="rectangle-13">
            <img class="sprout" src="images\sprout.png"/>
          </div>
          <p class="at-martha-s-we">
            At Martha’s, we believe food is power. We work together with clients and members of the community to address
            today’s food system challenges. Our Farm is a welcoming venue for communities with limited access to
            agricultural opportunity. Along with our many partners, we offer resources that empower learning about
            healthy food and how to grow it together.<br /><br />Our programs increase connections between people across
            all kinds of backgrounds. This forms a real and diverse community that guides what food is grown and how
            community members can participate in growing it. In this way, the community itself helps lead in building
            capacity for a secure and just food system.
          </p>
          <div class="text-wrapper-31">OUR MISSION</div>
        </div>
        <div class="text-wrapper-32">OUR ANNUAL IMPACT</div>
        <p class="p">servings of produce provided to our community in 2024</p>
        <p class="text-wrapper-33">of healthy farm fresh produce grown in 2024</p>
        <p class="text-wrapper-34">native flowers, trees, and shrubs planted on our farm</p>
        <img class="line-19" src="https://c.animaapp.com/MS0A03wW/img/line-2.svg" />
        <img class="line-20" src="https://c.animaapp.com/MS0A03wW/img/line-3.svg" />
        <div class="overlap-10">
          <div class="text-wrapper-36">7,900 lbs</div>
          
        </div>
        <div class="overlap-11">
          <img class = "logo" src = "images/logo.png">
        </div>
        <div class="overlap-12">
          <div class="text-wrapper-37">1,700</div>
          <div class="text-wrapper-38">Over</div>
        </div>
        
        <div class="text-wrapper-39">Over</div>
        <div class="overlap-13"><div class="text-wrapper-40">178,169+</div></div>
        <div class="overlap-14">
          <!-- Image behind the facts -->
          <img class="group-4" src="images/foodforest-4.jpg"/>
          <div class="component">
            <div class="overlap-15">
              <div class="rectangle-14">
                <!-- Insert middle card text in line below -->
                 <div class="quote-card">Martha's Choice Marketplace and Community Farm is the largest food pantry in Montgomery County, PA.</div>
              </div>
              <div class="view"><div class="text-wrapper-41">“</div></div>
            </div>
          </div>
          <div class="component-2">
            <div class="overlap-15">
              <div class="rectangle-15"> 
                <!-- Insert leftmost card text in line below -->
                <div class="quote-card">Sweet potatoes were almost 40% of 2024's total harvest poundage!</div>
              </div>
              <div class="view"><div class="text-wrapper-41">“</div></div>
            </div>
          </div>
          <div class="component-3">
            <div class="overlap-15">
              <div class="rectangle-16">
                 <!-- Insert rightmost card text in line below -->
                  <div class="quote-card">Aside from assorted peppers, the Farm grew 12 different species of pepper in 2024!</div>
              </div>
              <div class="view"><div class="text-wrapper-41">“</div></div>
            </div>
          </div>
        </div>
        <!-- Image next to the bar graph -->
        <img class="group-5" src = "images/img1.jpg" />
      </div>
    </div>
    <script>
     
//HERE IS WHERE YOU WOULD UPDATE THE DATA, READ THE COMMENTS CAREFULLY

      document.addEventListener('DOMContentLoaded', function () {
       /* 
        Code for the doughnut chart, edit the commented lines as needed for data
       */ 
        const doughnutCtx = document.getElementById('doughnutChart').getContext('2d');
        let doughnutChart = new Chart(doughnutCtx, {
          type: 'doughnut',
          data: {
            labels: ['Vegetables', 'Fruits', 'Peppers'],
            datasets: [{
              data: [50, 30, 20], // INPUT PERCENT RATIO FOR THE VEGETABLES, FRUITS, AND PEPPERS IN THAT ORDER
              backgroundColor: ['rgba(167, 157, 147, 0.7)', 'rgba(151, 155, 109, 0.7)', 'rgba(66, 57, 46, 0.7)'],
              borderColor: ['rgba(167, 157, 147, 0.7)', 'rgba(151, 155, 109, 1)', 'rgba(66, 57, 47, 0.7)'],
              borderWidth: 1
            }]
          },
          options: {
            responsive: true,
            maintainAspectRatio: false,
            cutout: '70%',
            plugins: {
              tooltip: {
                callbacks: {
                  
                  label: function(tooltipItem) {
                    let total = tooltipItem.dataset.data.reduce((sum, value) => sum + value, 0);
                    let value = tooltipItem.raw;
                    let percentage = ((value / total) * 100).toFixed(2);
                    return ` ${percentage}%`; 
                  }
                }
              }
            }
          }
        });


        /* 
        Code for the barchart, edit the commented lines as needed for data
        */ 
        const ctx = document.getElementById('histogram').getContext('2d');
        document.getElementById('histogram').style.backgroundColor = 'white';
        let chart = new Chart(ctx, {
          type: 'bar',
          data: {
            labels: ['2022', '2023', '2024'],
            datasets: [{
              label: 'lbs harvest, in thousands',
              data: [12, 19, 3], // Initial data ("ALL" section of bar chart) If change make sure it matches the values of the switch case's "ALL"
              backgroundColor: 'rgba(107, 142, 35)',
            }]
          },
          options: {
            responsive: true, 
            maintainAspectRatio: false,
            plugins: {
              legend: {
                labels: {
                  font: {
                    family: 'Lato, Helvetica, sans-serif', 
                    size: 20, 
                    weight: 'bold'
                  }
                }
              },
            tooltip: {
              backgroundColor: 'rgba(0,0,0,0.7)', 
              titleFont: {
                family: 'Lato, Helvetica, sans-serif', 
                size: 15,
                weight: 'bold'
              },
              bodyFont: {
                family: 'Lato, Helvetica, sans-serif', 
                size: 20
              },
              cornerRadius: 5 
            }
            },
            scales: {
              y: {
                beginAtZero: true,
                ticks: {
                  font: {
                    family: 'Lato, Helvetica, sans-serif', 
                    size: 15
                  }
                }
              },
              x:{
                ticks: {
                  font: {
                    family: 'Lato, Helvetica, sans-serif', 
                    size: 20,
                    weight: 'bold'
                  }
                },
                layout:{
                  padding:{
                    left: 20,
                    right: 20,
                    
                    bottom: 20
                  }
                }
              }
            }
          }
        });

 
        const buttons = document.querySelectorAll('.frame button');
        
        function updateChartData(chart, data) {
          chart.data.datasets[0].data = data;
          chart.update();
        }
       
        buttons.forEach(button => {
          button.addEventListener('click', function () {
            buttons.forEach(btn => btn.classList.remove('active'));
            button.classList.add('active');
            const chartType = button.getAttribute('data-chart');
            let newData = [];
            switch (chartType) {
              case 'vegetables':
              // (first number is the 2022, second is 2023, and third is 2024 )
                newData = [10,15,12]; //INPUT DATA FOR VEGETABLES AS NEEDED 
                break;
              case 'peppers':
                 // (first number is the 2022, second is 2023, and third is 2024 )
                newData = [5, 8, 12]; //INPUT DATA FOR PEPPERS AS NEEDED
                break;
              case 'fruits':
                 // (first number is the 2022, second is 2023, and third is 2024 )
                newData = [12, 14, 16]; //INPUT DATA FOR FRUITS AS NEEDED
                break;
              case 'all':
              default:
                 // (first number is the 2022, second is 2023, and third is 2024 )
                newData = [12, 19, 3]; //INPUT DATA FOR ALL AS NEEDED (MAKE SURE IT MATCHES THE ALL IN THE INITIAL DATA ABOVE)
                break;
            }
            updateChartData(chart, newData);
          });
        });
      });

      const servings = [
    'Shiitake Mushrooms',
    'Blackberries',
    'Radishes and Tomatoes'
  ];
  const pounds = [
    'Sweet Potatoes',
    'Jalapeño Peppers',
    'Poblano Peppers'
  ];

  const firstLabel = document.getElementById('first-label');
  const secondLabel = document.getElementById('second-label');
  const thirdLabel = document.getElementById('third-label');
  const servingsBtn = document.getElementById('servings-btn');
  const poundsBtn = document.getElementById('pounds-btn');
  const modeLabel = document.getElementById('mode-label');

  function updateLabels(data) {
    firstLabel.textContent = data[0];
    secondLabel.textContent = data[1];
    thirdLabel.textContent = data[2];
  }

  function setModeLabel(mode) {
    modeLabel.textContent = `Viewing: ${mode}`;
  }

  servingsBtn.addEventListener('click', () => {
    servingsBtn.classList.add('active');
    poundsBtn.classList.remove('active');
    updateLabels(servings);
    setModeLabel('By Serving Size');
  });

  poundsBtn.addEventListener('click', () => {
    poundsBtn.classList.add('active');
    servingsBtn.classList.remove('active');
    updateLabels(pounds);
    setModeLabel('By Pounds');
  });
    </script>
  </body>
</html>